{% extends 'base.html' %}

{% block content %}
<center>
{% for message in get_flashed_messages() %}
    <div class="alert fade show" role="alert">
        <img src="{{ url_for('static', filename='images/icons/alert.png') }}"height="35">{{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}
{% for field, error in form.errors.items() %}
    <div class="alert fade show" role="alert">
        <img src="{{ url_for('static', filename='images/icons/alert.png') }}"height="35">{{', '.join( error )}}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}
{% if password_update.login %}
    <h1><img src="{{ url_for('static', filename='images/icons/settings.png') }}"height="65">Nouveau Mot de Passe</h1>
    </center>
    <div class="card-transparent mx-auto" style="width: 25rem;">
        <div class="card-body">
            <form action="/update-password/{{ password_update.id }}" method='POST'>
            <br>
            <a class="btn btn-outline-secondary" href="{{url_for('dashboard')}}"><</a>
            <center>
                <img src="{{ url_for('static', filename='images/icons/classes/'~current_user.profile_picture~'.png') }}"height="65" style="border-radius: 50%"></br>
            </center>
            {{ form.password_hash.label(class="form-label") }}
            {{ form.password_hash(class="form-select", autocomplete="off") }}
            {{ form.password_hash_confirm.label(class="form-label") }}
            {{ form.password_hash_confirm(class="form-select", autocomplete="off") }}
            <br/>
            {{ form.submit(class="btn btn-secondary") }}
            </form>
        </div>
    </div>
    </div>
{% endif %}
{% endblock %}